<style>
    .centre {
        display: flex;
        justify-content: center;
        align-items: end;
        height: 100%;
    }
    #chatContainer {
        transition: all .25s linear;
        margin: 17px;
        width: 90%;
    }

    #messages {
        display: flex;
        flex-direction: column;
        height: 100%;
        width: 100%;
        top: 0;
        left: 0;
        position: absolute;
    }
    .out {
        height: fit-content;
        display: flex;
        padding: 0px 10px;
    }
    .myOut {
        justify-content: end;
    }
    .in {
        display: flex;
        align-items: center;
        width: fit-content;
        border-radius: 10px;
        padding: 0px 10px;
        margin: 10px 1px;
    }
    .myIn {
        background-color: rgba(var(--accent-1-strong-rgb), 0.5);
    }
    .botIn {
        background-color: rgba(var(--accent-2-strong-rgb), 0.5);
    }
</style>

<div class="centre">
    <script>
        insertTemplate(document.currentScript.parentElement, 'chatContainer');

        async function loadData() {
            var URL = window.location.origin;
            if (!URL.endsWith('/')) {
                URL += '/';
            }

            const ID = this.location.pathname.split('/')[2];

            if (ID) {
                var resp = await fetch(URL+'api/v1/chat/'+ID);
                var data = await resp.json();
                if (data.status === 'error') {
                    alert(data.message);
                    home();
                    return;
                }
            } else {
                alert('No chat ID provided');
                home();
                return;
            }
            console.log(data);
        }

        loadData();
    </script>
</div>
<div id="messages">
    <div class="out myOut">
        <div class="in myIn">
            <p>Hi</p>
        </div>
    </div>
    <div class="out">
        <div class="in botIn">
            <p>Hello</p>
        </div>
    </div>
</div>
